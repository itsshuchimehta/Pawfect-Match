"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[558],{6558:(e,a,t)=>{t.r(a),t.d(a,{default:()=>h});var r=t(5155),i=t(2115),s=t(760),l=t(4022),d=t(4416),c=t(1976),n=t(7168),x=t(7975),o=t(7480);function h(e){let{isOpen:a,onClose:t,favorites:h,onRemoveFavorite:g,onGenerateMatch:m}=e,[y,v]=(0,i.useState)([]),[f,u]=(0,i.useState)(!1),[p,k]=(0,i.useState)(null),j=(0,i.useCallback)(async()=>{if(0===h.length){v([]);return}u(!0),k(null);try{let e=await (0,o.s5)(h),a=e.map(e=>e.zip_code).filter(Boolean),t=await (0,o.tp)(a),r=e.map(e=>{if(!(null==e?void 0:e.zip_code))return e;let a=t.find(a=>(null==a?void 0:a.zip_code)===e.zip_code);return{...e,city:(null==a?void 0:a.city)||"",state:(null==a?void 0:a.state)||""}});v(r)}catch(e){k("Failed to fetch favorite dogs: "+(e instanceof Error?e.message:String(e)))}finally{u(!1)}},[h]);(0,i.useEffect)(()=>{a&&0===y.length&&j()},[a,j,y.length]);let b=e=>{v(a=>a.filter(a=>a.id!==e)),g(e)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.N,{children:a&&(0,r.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/20 dark:bg-black/40 backdrop-blur-sm z-40"})}),(0,r.jsx)(s.N,{children:a&&(0,r.jsxs)(l.P.aside,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},transition:{duration:.3},className:"fixed top-20 right-4 z-50 w-[320px] max-w-[calc(100vw-2rem)] bg-white dark:bg-gray-800 rounded-lg shadow-xl flex flex-col h-[calc(100vh-8rem)] max-h-[600px]",children:[(0,r.jsx)("div",{className:"flex-shrink-0 p-4 border-b border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Favorites"}),(0,r.jsx)(n.$,{variant:"ghost",size:"icon",onClick:t,className:"hover:bg-transparent",children:(0,r.jsx)(d.A,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"})})]})}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto",children:f?(0,r.jsx)("div",{className:"p-4 text-gray-600 dark:text-gray-300",children:"Loading..."}):y.length>0?(0,r.jsx)("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:(0,r.jsx)(s.N,{initial:!1,children:y.map(e=>(0,r.jsx)(l.P.li,{exit:{opacity:0,height:0},transition:{duration:.2},className:"relative",children:(0,r.jsxs)("div",{className:"p-4 flex items-center space-x-4 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("img",{src:e.img||"/placeholder.svg",alt:e.name,className:"h-12 w-12 rounded-full object-cover"})}),(0,r.jsxs)("div",{className:"flex-grow min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:e.breed})]}),(0,r.jsx)(n.$,{variant:"ghost",size:"icon",onClick:()=>b(e.id),className:"flex-shrink-0 text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-transparent",children:(0,r.jsx)(c.A,{className:"h-5 w-5 fill-current"})})]})},e.id))})}):(0,r.jsx)("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"No favorites yet."})}),(0,r.jsx)("div",{className:"flex-shrink-0 p-4 border-t border-gray-200 dark:border-gray-700",children:(0,r.jsx)(x.A,{onClick:()=>{t(),m()},disabled:0===y.length})})]})})]})}}}]);